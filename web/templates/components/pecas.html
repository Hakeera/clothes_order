<h2>Selecione o Tipo de Peça</h2>

<div class="opcoes-grid" id="etapa-pecas">
    {{range $index, $nomePeca := .Pecas}}
        <div style="border: 2px solid #ddd; border-radius: 8px; cursor: pointer; background: white; transition: all 0.3s ease; padding: 20px; text-align: center; min-height: 80px; display: flex; align-items: center; justify-content: center;"
             hx-get="/modelos?linha={{$.Linha}}&peca={{$nomePeca}}"
             hx-target="#etapa-modelos" 
             hx-swap="innerHTML"
             onmouseover="this.style.borderColor='#007bff'; this.style.transform='translateY(-2px)'"
             onmouseout="this.style.borderColor='#ddd'; this.style.transform='translateY(0)'"
             onclick="selectPeca(this)">
            
            <span style="font-weight: 600; font-size: 16px; color: #333;">
                {{$nomePeca}}
            </span>
        </div>
    {{end}}
</div>

<script>
    // Função para marcar a peça selecionada
    function selectPeca(element) {
        // Remove seleção anterior
        document.querySelectorAll('#etapa-pecas > div').forEach(card => {
            card.style.borderColor = '#ddd';
            card.style.backgroundColor = 'white';
        });
        
        // Adiciona seleção à peça clicada
        element.style.borderColor = '#007bff';
        element.style.backgroundColor = '#f0f8ff';
    }
</script>
